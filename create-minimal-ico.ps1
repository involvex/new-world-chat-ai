# Create a proper ICO file using base64 encoded ICO data
# This is a minimal 16x16 and 32x32 ICO with transparency

$iconData = @"
AAABAAIAEBAAAAEAIABoBAAAJgAAACAgAAABACAAqBAAAI4EAAAoAAAAEAAAACAAAAABACAAAAAAAAAEAAASCwAAEgsAAAAAAAAAAAAA////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
"@

try {
    $bytes = [Convert]::FromBase64String($iconData)
    [System.IO.File]::WriteAllBytes("build\icon-minimal.ico", $bytes)
    Write-Host "Created minimal ICO file"
} catch {
    Write-Error "Failed to create minimal ICO: $($_.Exception.Message)"
}
